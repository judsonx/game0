<!doctype HTML>
<html>
<head>
  <title>Game0</title>
  <link rel="stylesheet" type="text/css" href="assets/style/site.css">
</head>
<body>
<div class="content">
  <div id="pa"></div>
  <div id="ga"></div>
  <div>
    <h1>Game0</h1>
    <p id="score">Score:</p>
    <input type="button" id="reset" value="Reset" />
    <h2 id="status"></h2>
  </div>
</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js">
</script>
<script src="assets/js/game0.js"></script>
<script>
game0.init ({
  game_area: $('#ga'),
  preview_area: $('#pa'),
  score: $('#score')
});

$(document).on ('keydown', function (e) {
  switch (e.keyCode)
  {
  case 38:
    game0.on_ctrl_toggle ();
    break;
  case 40:
    game0.on_ctrl_down ();
    break;
  case 37:
    game0.on_ctrl_left ();
    break;
  case 39:
    game0.on_ctrl_right ();
    break;
  }
});

var timer0;

function step ()
{
  if (!game0.step ())
  {
    window.clearInterval (timer0);
    $('#status').text ('Game Over!');
  }
}

$('#reset').on ('click', function () {
  $('#status').text ('');
  window.clearInterval (timer0);
  game0.reset ();
  timer0 = window.setInterval (step, 1000);
});

</script>
</body>
</html>
